{% extends './index.html' %} {% load static %} {% block title %}Catálogo FERREMAX{% endblock %} {% block body %}
<form method="post" action="/webpay/plus/create/" id="subscription-form">
  {% csrf_token %}
  <input type="hidden" name="amount" id="amount-input">
  <input type="hidden" name="element_type" id="subscription-type-input">
</form>
<div class="row">
    <div class="col">
      <div class="card h-100 d-flex flex-column">
        <h2
          class="text-center pt-2"
          style="
            color: hsl(36, 98%, 44%);
            text-shadow: 1px 2px 3px rgb(0, 0, 0);
          "
        >
          ALAMBRE
        </h2>
        <div class="card-body d-flex flex-column justify-content-between">
          <p class="card-text">Alambre metálico</p>
          <p class="card-text">50 metros</p>
          <div class="text-center">
            <button
              href="#"
              class="btn btn-primary subscription-button"
              data-price="29990"
              data-element-type="alambre 50m"
              id="alambre"
              >Comprar</button
            >
          </div>
        </div>
      </div>
    </div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
  $(document).ready(function(){
    $(".subscription-button").click(function(e){
      e.preventDefault();
      var price = $(this).data('price');
      var subscriptionType = $(this).data('element-type');
      $("#amount-input").val(price);
      $("#subscription-type-input").val(subscriptionType);
      $("#subscription-form").submit();
    });
  });
  </script>
{% endblock %}